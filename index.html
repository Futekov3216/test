<!DOCTYPE html>
<html>
<head>
    <title></title>
    <meta charset="utf-8" />
    <script>
// Allow window to listen for a postMessage
        var source;
    window.addEventListener("message", (event)=>{
        console.log(event) 
        source = event.source
// Normally you would check event.origin
        // To verify the targetOrigin matches
        // this window's domain
        let txt=document.querySelector('#txtMsg');
        // event.data contains the message sent
        txt.value=`Name is ${event.data.pName} Age is  ${event.data.pAge}` ;
      
    });
function closeMe() {
        try {
window.close();
        } catch (e) { console.log(e) }
        try {
self.close();
        } catch (e) { console.log(e) }
}
        
        function click(){
            source.postMessage("hi", "*")
        }
    </script>
</head>
<body>
    <form>
        <h1>Recipient of postMessage</h1>
            <fieldset>
                <input type='text' id='txtMsg' />
                <input type='button' id='btnCloseMe' value='Close me' onclick='closeMe();' />
                <button onclick='click();'>CLICK</button>
            </fieldset>
   
    </form>
</body> 
</html> 
